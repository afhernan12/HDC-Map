<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
     <title>HDC Map</title>
     <link rel="stylesheet" type="text/css" href="styles/styles.css" />
         
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Turf.js/6.5.0/turf.min.js"></script> 
    
    <!-- Font Library --> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://use.fontawesome.com/releases/v6.2.0/js/all.js"></script>
 
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    
     <!-- Popper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    
    <!-- Bootstrap Multiselect CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-multiselect@0.9.15/dist/css/bootstrap-multiselect.css">
    
    <!-- Bootstrap Multiselect JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-multiselect@0.9.15/dist/js/bootstrap-multiselect.min.js"></script>
    
    <!-- RequireJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>
    

        
  </head>
  <body>
	<div id="loadingSpinner" class="loading-spinner">
	   <div class="spinner-container">
		   <div class="spinner"></div>
		   <div class="loaing-text">Loading...</div>
	   </div>
   </div>
   		
	<div id="container">
		<div class="layers">	
			<div class="mapHeader">
				<a href="housing_calculator.html">
					<i class="fa fa-home" aria-hidden="true"></i>
					<i class="fa fa-calculator" aria-hidden="true"></i>
				</a>
			</div>
			
		   	<div class="control-group">
				<span class="control-label">Census Tracts
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
						<i class="fa-solid fa-circle-info"></i>
						<div class="info-text">US Census Tracts</div>
					</span>
				</span>
				<label class="switch">
					<input type="checkbox" id="toggleCensusTracts">
					<span class="slider round"></span>
				</label>
			</div>
			
			<div class="control-group">
				<span class="control-label">Council Districts
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text"> Includes Seattle and Los Angeles Council Districts.</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleCD">
				  <span class="slider round"></span> 
				</label> 
			</div>
			
			<div class="control-group">
				<span class="control-label">Demographics
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">Data from the American Community Surver (ACS) and Decennial Census on ethnic demographics and housing statistics by tract.</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleKing">
				  <span class="slider round"></span> 
				</label> 
			</div>
			
			<div class="control-group">
				<span class="control-label">FMR - MSA
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">Fair Market Rents (SAFMRs) are FMRs calculated for ZIP Codes for all Metropolitan Statistical Areas in HUD.</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleUSFMR">
				  <span class="slider round"></span> 
				</label>
			</div>
			
			<div class="control-group">
				<span class="control-label">FMR - Small Area
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">Small Area Fair Market Rents (SAFMRs) are FMRs calculated for ZIP Codes. Small Area FMRs are required to be used to set Section 8 Housing Choice Voucher payment standards in areas designated by HUD.</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleSAFMR">
				  <span class="slider round"></span> 
				</label>
			</div>
			
			<div class="control-group">
				<span class="control-label">HACLA Delta
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text"> Includes voucher payment standards (VPS) with tier qualification at the zipcode level.</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleDelta">
				  <span class="slider round"></span> 
				</label> 
			</div>
			
			<div class="control-group">
				<span class="control-label">HACLA VPS
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text"> Includes voucher payment standards (VPS) with tier qualification at the zipcode level.</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleVPS">
				  <span class="slider round"></span> 
				</label> 
			</div>
			
			<div class="control-group">
				<span class="control-label">Health Index
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">
							Census tract based sub-index of the Racial and Social Equity Index tool to aid in the 
							identification of City planning, program and investment priorities.
						</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleHealth">
				  <span class="slider round"></span> 
				</label> 
			</div>
			   	
		   	<div class="control-group">
				<span class="control-label">HOA AFFH
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
						<i class="fa-solid fa-circle-info"></i>
						<div class="info-text">Census tracts that are considered High Opportunity Areas by the Affimatively Furthering Fair Housing, AFFH, agency. Governed by California Tax Credit Allocation Committee and Housing and Community Development.</div>
					</span>
				</span>
				<label class="switch">
					<input type="checkbox" id="toggleAFFH">
					<span class="slider round"></span>
				</label>
			</div>
			
		    <div class="control-group">
				<span class="control-label">HOA FHFA		
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">Census tracts that are considered High Opportunity Areas by the Federal Housing Finance Agency, FHFA.</div>
					</span>
				</span>
				<label class="switch"> 
				  <input type="checkbox" id="toggleHOA"> 
				  <span class="slider round"></span> 
				</label> 
			</div>
			
			<div class="control-group">
				<span class="control-label">MHA
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">Mandatory Housing Affordability requires new development to contribute to affordable housing by including affordable housing in the development or making a payment to the City’s Office of Housing to support affordable housing. The amount of the MHA contribution varies based on a property’s location and other factors specified in Seattle Municipal Code Chapters 23.58B and 23.58C.  </div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleMHA">
				  <span class="slider round"></span> 
				</label> 
			</div>
			
		    <div class="control-group">
				<span class="control-label">OZs		
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">Census tracts that are economically-distressed communities where new investments may, under certain conditions, be eligible for preferential federal tax treatment or preferential consideration for federal grants and programs.</div>
					</span>
				</span>
				<label class="switch"> 
				  <input type="checkbox" id="toggleTracts"> 
				  <span class="slider round"></span> 
				</label> 
			</div>
			
			<div class="control-group">
				<span class="control-label">Red/Blue State
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">2024 Presidential Election Results.</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleRedBlue">
				  <span class="slider round"></span> 
				</label>
			</div>
			
			<div class="control-group">
				<span class="control-label">Seattle Station Areas
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">City of Seattle's land use zoning overlay around Sound Transit light rail stations.</div>
					</span>
				</span>
				
				<label class="switch">
				  <input type="checkbox" id="toggleSeattleStationOverlay">
				  <span class="slider round"></span> 
				</label> 
			</div>
			
			<div class="control-group">
				<span class="control-label">SDCI Zoning
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">A generalized version of the City of Seattle's land use zoning symbolized at the zoning group level with 28 categories.</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleSeattleZoningCode">
				  <span class="slider round"></span> 
				</label>
			</div>
			
			<div class="control-group">
				<span class="control-label">SDCI Zoning LR1
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">A generalized version of the City of Seattle's land use zoning symbolized at the zoning group level with 28 categories.</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleSeattleZoningLR1">
				  <span class="slider round"></span> 
				</label>
			</div>
			
			<div class="control-group">
				<span class="control-label">SDCI Frequent Transit
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">An area within 1,320 feet walking distance of a bus stop served by a frequent transit route or an area within 2,640 feet walking distance of a rail transit station, as shown on a map adopted by Director's Rule.</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleFrequentTransit">
				  <span class="slider round"></span> 
				</label>
			</div>
				
			<div class="control-group">
				<span class="control-label">Urban Village
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">
							Sub-villages of City of Seattle Urban Centers.
							Growth data for housing units and employment for recognized sub-villages of three of the City of Seattle's designated urban centers.
							Housing unit growth is reported quarterly from the city's permitting system while employment change is reported annually from the State of Washington QCEW data.
						</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleVillage">
				  <span class="slider round"></span> 
				</label>
			</div>
			
			<div class="control-group">
				<span class="control-label">USDA Ineligible Areas		
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">USDA Rural Development Property Ineligibility (SFH/MFH) Zones. Used to determine eligibility for certain USDA Single Family Housing and Multi-Family Housing loan and grant programs.</div>
					</span>
				</span>
				<label class="switch"> 
				  <input type="checkbox" id="toggleUSDA"> 
				  <span class="slider round"></span> 
				</label> 
			</div>
															
			<!--
			<div class="control-group">
				<span class="control-label">County FMR and VPS
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">Includes SAFMR for LA and King County. Includes voucher payment standards (VPS) with tier qualification at the zipcode level.</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleFMR">
				  <span class="slider round"></span> 
				</label> 
			</div>
			-->	
			
			<div class="control-group">
				<span class="control-label">Overlap layers
					<span class="info-icon" tabindex="0" role="button" aria-label="Information">
					    <i class="fa-solid fa-circle-info"></i>
					    <div class="info-text">Show me overlapping layers</div>
					</span>
				</span>
				<label class="switch">
				  <input type="checkbox" id="toggleOverlap">
				  <span class="slider round"></span> 
				</label> 
			</div>
			

			<div class="control-group">
				<select id="transit" multiple="multiple">
				    <option value="bus">Bus Station</option>
				    <option value="subway">Subway Station</option>
				    <option value="light_rail">Light Rail Station</option>
				    <option value="train">Train Station</option>
				    <option value="transit">Transit Station</option>
				</select> 	
			</div>
			
			
			<div class="control-group">
				<select id="sponsors" multiple="multiple">
				    <option value="hdc">Housing Diversity Corp</option>
				    <option value="ozn">OZ Navigator</option>
				    <option value="anew">Anew Apartments</option>
				    <option value="apodments.com">aPodments.com</option>
				    <option value="acquisitions">Acquistions</option>
				    <option value="comps">Comps</option>
				</select> 	
			</div>
			
			<div class="control-group">
				<select id="schools" multiple="multiple">
				    <option value="LACCD">LACCD</option>
				    <option value="public">Public Universities</option>
				    <option value="private">Private Universities</option>
				</select> 	
			</div>
		</div>	
		
		
		
		</br>
		<div id="legend" style="display: none; position: absolute; bottom: 30px; right: 30px; z-index: 1000; background: white; padding: 10px; border: 1px solid #ccc;">
		  <h4>SAFMR Scores</h4>
		  <h6>For One Bedroom</h6>
		  <div><span style="background-color: green; width: 20px; height: 20px; display: inline-block; margin-right: 5px;"></span> Top 10%</div>
		  <div><span style="background-color: yellow; width: 20px; height: 20px; display: inline-block; margin-right: 5px;"></span> Top 20%</div>
		  <div><span style="background-color: red; width: 20px; height: 20px; display: inline-block; margin-right: 5px;"></span> Top 30%</div>
		  <div><span style="background-color: gray; width: 20px; height: 20px; display: inline-block; margin-right: 5px;"></span> Below 30%</div>
		  <div style="margin-top: 10px;">
		    <div>Fill: MSA Score</div>
		    <div>Border: US Score</div>
		  </div>
		</div>
		
		<div id="radius-popup" class="radius-popup" style="display: none;">
			<div class="radius-content">
				<span class="control-label">Show 1-mile Radius</span>
				<label class="switch">
					<input type="checkbox" id="toggleRadius">
					<span class="slider round"></span>
				</label>
			</div>
		</div>
		
		<div class="keyword-search-card" id="keyword-search-card">
			<div class="search-container">
				<input type="text" id="keyword-input" placeholder="Search for places (e.g. Kbbq, Pho, Coffee, etc)">
				<div class="radius-container" style="color: black;">
					<label for="search-radius">Radius (m):</label>
					<input type="number" id="search-radius" value="1000" min="100" max="5000" step="100">
				</div>
				<button id="start-search-button">Find Places</button>
				<button id="csv-converter">Convert to CSV</button>
				<button id="clear-results-button">Clear Results</button>
			</div>
		</div>
	
		<div id="search-overlay" class="search-overlay">
			<div class="search-instructions">
				<p>Drag the marker to your desired search location</p>
				<div class="button-container">
					<button id="cancel-search-button">Cancel</button>
					<button id="confirm-search-button">Search Here</button>
				</div>
			</div>
		</div>	
		
		<div class="place-autocomplete-card" id="place-autocomplete-card">
			<p style="color:black">Search for a place here: </p>
		</div>		
		<div id="map"></div>
   </div>
   
    <script>
	 (g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r,"geometry"]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})
     ({key: "AIzaSyAlYMTJTtHI0tE4RnaKS54xv0Qf8kBvzKE", v: "beta"});
    </script>
	
	<!--
   <script async
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAlYMTJTtHI0tE4RnaKS54xv0Qf8kBvzKE&loading=async&callback=initMap">
    </script>
    -->
    
    <script src="javascript/map.js"></script>
    <script src="javascript/tooltip.js"></script>
    
  </body>
</html>

